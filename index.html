<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Fill-in-the-Blanks</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">ðŸŒ™</button>

    <!-- Timer Overlay -->
    <div id="timerOverlay" class="timer-overlay">
        <div class="timer-display">
            <div class="timer-label">TIMER</div>
            <div id="countdownDisplay">00:00</div>
            <div class="timer-controls-row">
                <button id="increaseTimeBtn" class="timer-btn square-btn">+</button>
                <button id="decreaseTimeBtn" class="timer-btn square-btn">-</button>
            </div>
            <div class="timer-controls-row">
                <button id="startStopBtn" class="timer-btn square-btn">â–¶</button>
                <button id="resetBtn" class="timer-btn square-btn">âŸ²</button>
            </div>
        </div>
    </div>

    <div class="container">
        <h1><span class="title-emoji">ðŸ“š</span> English Fill-in-the-Blanks</h1>

        <div id="controlsPanel" class="controls">
            <h3>Settings</h3>
            <div class="dropdown-container">
                <label for="difficultySelect">Exercise Difficulty:</label>
                <select id="difficultySelect">
                    <option value="all">Any Difficulty</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                </select>
                <button id="getNewTestBtn">Get <strong>New</strong> and <strong>Remove Words</strong></button>
                <button id="getPartialTestBtn">Get <strong>New</strong> and <strong>Remove Letters</strong></button>
            </div>
            <hr>
            <div class="slider-container">
                <label for="blankSlider">Percentage of Blanks:</label>
                <div class="slider-wrapper">
                    <input type="range" id="blankSlider" step="10">
                    <div class="slider-tooltip"></div>
                </div>
            </div>
            <div class="toggle-container">
                <label class="toggle-switch">
                    <input type="checkbox" id="includeRandomWords">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-label">Include extra words for difficulty</span>
            </div>
            <hr>
            <button id="reblankTextBtn">Re-blank Same Text (Remove Words)</button>
            <button id="reblankPartialBtn">Re-blank Same Text (Remove Letters)</button>
            <button id="clearBlanksBtn">Clear Blanks</button>
        </div>

        <div id="resultsPanel" style="display: none;" class="results">
            <h2>Your Score: <span id="scoreDisplay">0</span> / <span id="totalDisplay">0</span></h2>
            <p>Review your answers below:</p>
            <div class="exercise-text">
                <h2 id="resultsTitle"></h2>
                <div id="resultsContent"></div>
            </div>
            <div class="original-text">
                <h3>Original Text:</h3>
                <p id="originalTextDisplay"></p>
            </div>
            <button id="backToExerciseBtn">Back to Exercise</button>
        </div>

        <div id="exercisePanel">
            <form id="exerciseForm">

                <div class="word-bank">
                    <h3>Word Bank</h3>
                    <div class="word-bank-items" id="wordBankContainer">
                        <p style="color: #888;">Words will appear here after you get a test.</p>
                    </div>
                </div>
                
                <div class="exercise-text">
                    <h3 id="exerciseTitle" style="display: none;"></h3>
                    <div id="exerciseTextContainer">
                        <div class="empty-state">
                            <p>Click "Remove Words" or "Remove Letters" to start an exercise.</p>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit">Check Answers</button>
                </div>
            </form>
        </div>
        <footer class="page-footer">
            <p>&copy; 2026 Enrico Fraccaroli. Contact: <a href="mailto:enry.frak@gmail.com">enry.frak@gmail.com</a></p>
        </footer>
    </div>

    <script src="js/script.js"></script>
</body>

</html>